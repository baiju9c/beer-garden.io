<!DOCTYPE html><!--[if IE 8]><html class="no-js lt-ie9" lang="en"><![endif]--><!--[if gt IE 8 ]><!--><html class="no-js" lang="en"><!--<![endif]--><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link rel="stylesheet" href="/stylesheets/styles.css"><script src="/javascripts/jquery.js"></script><script src="/javascripts/bootstrap.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-113442079-2"></script><title>Beer Garden Documentation</title></head><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-113442079-2');</script><body class="antialiased"><div class="bootstrap"><nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false"><span class="sr-only">Toggle Navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="/images/bg-banner.png">Beer Garden</img></a></div><div class="collapse navbar-collapse" id="navbar-collapse-1"><ul class="nav navbar-nav navbar-right"><li><a href="/">Home</a></li><li class="divider"></li><li><a href="https://github.com/beer-garden/beer-garden">Code</a></li><li class="divider"></li><li><a href="https://gitter.im/beer-garden-io/Lobby">Discuss</a></li><li class="divider"></li><li><a href="/docs/">Docs</a></li></ul></div></div></nav><main><div class="bootstrap masthead"><div class="container"><h2 class="hero">Beer Garden in 5 minutes</h2></div></div><div class="bootstrap container"><div class="row top-buffer"><div class="col-lg-4"><div class="col-lg-12"><div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups"><div class="btn-group mr-2" role="group" aria-label="First group"><button class="btn btn-default toggle-navigation" type="button" href="#"><span class="toggle-target"><i class="fa fa-toggle-on"></i><i class="fa fa-toggle-off"></i> Nav</span></button></div><div class="btn-group-mr-2 pull-right" role="group" aria-label="First Group"><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/edit/master//docs/quickstart.adoc">Edit</a><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/raw/master//docs/quickstart.adoc">Raw</a><a class="btn btn-default" href="https://github.com/beer-garden/beer-garden.io/commits/master//docs/quickstart.adoc">History</a></div></div></div><div class="col-lg-12 navigation"><div id="toc" class="toc"><div class="title" id="toctitle">Table of Contents</div><ul class="sectlevel1">
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#install-beer-garden">Install Beer Garden</a></li>
<li><a href="#create-your-first-plugin">Create your first plugin</a></li>
</ul></div></div></div><div class="col-lg-8" id="docContent"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This guide is designed to get you up and running in Beer Garden in the fastest possible way. We will cover, installing Beer Garden and writing your first plugin. Let&#8217;s dive in!</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="prerequisites"><a class="anchor" href="#prerequisites"></a>Prerequisites</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To follow along with this guide, we assume you have the following working:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Docker - Installation instructions can be found at <a href="https://docs.docker.com/install/">Docker Docs</a></p>
</li>
<li>
<p>Docker Compose - Installation instructions can be found at <a href="https://docs.docker.com/compose/install/">Docker Docs</a></p>
</li>
<li>
<p>Git and an account on <a href="https://github.com">GitHub</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="install-beer-garden"><a class="anchor" href="#install-beer-garden"></a>Install Beer Garden</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We are going to use <code>docker</code> and <code>docker-compose</code> to install and run Beer Garden.</p>
</div>
<div class="paragraph">
<p>The first step is to clone the git repository that contains the <code>docker-compose.yml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>git clone git@github.com:beer-garden/beer-garden.git
cd beer-garden/docker/docker-compose</code></pre>
</div>
</div>
<div class="paragraph">
<p>Beer Garden needs to inform remote plugins the hostname of the RabbitMQ instance that they should connect to for message. This value is set as the <code>BG_AMQ_PUBLISH_HOST</code> in the environment or <code>amq_publish_host</code> in config/command-line arguments. By default in the <code>docker-compose.yml</code> it will be <code>rabbitmq</code>. This will work for containers running on the same network, but if a truly remote plugin exists, you may need to change the value to a resolvable hostname or IP address on the network.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Make sure to use a real IP address and not 'localhost' or '0.0.0.0'.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can also use a fully-qualified domain name instead of an IP address.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Run this command to start beer-garden:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>docker-compose up -d</pre>
</div>
</div>
<div class="paragraph">
<p>This will create the necessary docker containers and then run them in the background. Run the following command to see the log output from the containers starting:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>docker-compose logs -f</pre>
</div>
</div>
<div class="paragraph">
<p>Look for a line that says "Bartender started" - once you see that beer-garden is up and running. Use <code>ctrl-c</code> to exit.</p>
</div>
<div class="paragraph">
<p>beer-garden starts by default on port 2337, so point a browser at <code><a href="http://&lt;IP-ADDRESS&gt;:2337" class="bare">http://&lt;IP-ADDRESS&gt;:2337</a></code> (where <code>&lt;IP-ADDRESS&gt;</code> is the address you used for the previous step). You&#8217;ll see a message saying beer-garden couldn&#8217;t find any   systems. Don&#8217;t worry - you&#8217;re about to add one.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create-your-first-plugin"><a class="anchor" href="#create-your-first-plugin"></a>Create your first plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that Beer Garden is up, let&#8217;s create a plugin that let&#8217;s us use Beer Garden! We will create a simple client that will print and return the message passed to it. Change to your workspace and let&#8217;s start coding!</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mkdir -p $HOME/my_plugin
cd $HOME/my_plugin</pre>
</div>
</div>
<div class="paragraph">
<p>Copy and paste the following code in a file called <code>__main__.py</code></p>
</div>
<div class="listingblock">
<div class="title">__main__.py</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">from</span> <span class="include">brewtils.decorators</span> <span class="keyword">import</span> <span class="include">system</span>, <span class="include">parameter</span>
<span class="keyword">from</span> <span class="include">brewtils.plugin</span> <span class="keyword">import</span> <span class="include">RemotePlugin</span>

<span class="decorator">@system</span>
<span class="keyword">class</span> <span class="class">MyClient</span>(<span class="predefined">object</span>):

    <span class="decorator">@parameter</span>(key=<span class="string"><span class="delimiter">&quot;</span><span class="content">message</span><span class="delimiter">&quot;</span></span>, type=<span class="string"><span class="delimiter">&quot;</span><span class="content">String</span><span class="delimiter">&quot;</span></span>)
    <span class="keyword">def</span> <span class="function">do_something</span>(<span class="predefined-constant">self</span>, message):
        print(message)
        <span class="keyword">return</span> message


<span class="keyword">if</span> __name__ == <span class="string"><span class="delimiter">&quot;</span><span class="content">__main__</span><span class="delimiter">&quot;</span></span>:
    client = MyClient()
    plugin = RemotePlugin(client, name=<span class="string"><span class="delimiter">&quot;</span><span class="content">my-plugin</span><span class="delimiter">&quot;</span></span>,
                          version=<span class="string"><span class="delimiter">&quot;</span><span class="content">0.0.1.dev0</span><span class="delimiter">&quot;</span></span>,
                          bg_host=<span class="string"><span class="delimiter">'</span><span class="content">brew-view</span><span class="delimiter">'</span></span>,
                          bg_port=<span class="integer">2337</span>, ssl_enabled=<span class="predefined-constant">False</span>)
    plugin.run()</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you are not going to run this plugin inside docker, you might need to change <code>bg_host='brew-view'</code> to your FQDN or IP address on which Beer Garden is running.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Now you can simply run your plugin using one of the images we provide!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>docker run -v $(pwd):/src --network dockercompose_bg-network \
bgio/plugins:python3</code></pre>
</div>
</div>
<div class="paragraph">
<p>Your plugin is now accessible in the Beer Garden GUI! Click on the <code>my-plugin</code> system, and try out the <code>do_something</code> command! Fill out whatever message you want and you should see it in the GUI as well as the output from your <code>docker run</code> command!</p>
</div>
<div class="paragraph">
<p>This is just the tip of the iceberg, please feel free to look around the site for more information! Happy brewing!</p>
</div>
</div>
</div></div><hr></div></div></main></div><footer id="bgfooter"><div class="container"><div class="row"><div class="col-sm-3"><h5>Get Started</h5><ul><li><a href="/">Home</a></li><li><a href="https://github.com/beer-garden/beer-garden/blob/master/CONTRIBUTING.md">Contribute</a></li></ul></div><div class="col-sm-3"><h5>About us</h5><ul><li><a href="https://github.com/beer-garden/beer-garden/blob/master/AUTHORS.md">Contributors</a></li><li><a href="/news">News</a></li></ul></div><div class="col-sm-3"><h5>Support</h5><ul><li><a href="https://gitter.im/beer-garden-io/Lobby">Gitter</a></li></ul></div><div class="col-sm-3 info"><h5>Information</h5><p>Composed in AsciiDoc. Styled by bootstrap. Baked with Awestruct.</p></div></div></div><div class="social-networks"><a class="github" href="https://github.com/beer-garden/beer-garden"><i class="fa fa-github"></i></a><a class="gitter" href="https://gitter.im/beer-garden-io/Lobby"><i class="fa fa-gitter"></i></a></div><div class="footer-copyright"><p>© Beer Garden Project 2018.</p></div></footer></body><script>$('.toggle-navigation').click(function() { $('.navigation').toggle(); $('#docContent').toggleClass('col-lg-8'); $('#docContent').toggleClass('col-lg-12'); $('#docContent').toggleClass('top-buffer'); $('.toggle-target').toggleClass('off'); });</script>